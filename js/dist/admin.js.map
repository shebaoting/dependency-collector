{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@shebaoting/dependency-collector/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@shebaoting/dependency-collector/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@shebaoting/dependency-collector/./src/admin/components/DependencyCollectorSettingsPage.js","webpack://@shebaoting/dependency-collector/./src/admin/components/EditTagModal.js","webpack://@shebaoting/dependency-collector/./src/admin/index.ts","webpack://@shebaoting/dependency-collector/./src/common/index.ts","webpack://@shebaoting/dependency-collector/./src/common/models/DependencyItem.js","webpack://@shebaoting/dependency-collector/./src/common/models/DependencyTag.js","webpack://@shebaoting/dependency-collector/external root \"flarum.core.compat['admin/app']\"","webpack://@shebaoting/dependency-collector/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@shebaoting/dependency-collector/external root \"flarum.core.compat['admin/components/Modal']\"","webpack://@shebaoting/dependency-collector/external root \"flarum.core.compat['common/Model']\"","webpack://@shebaoting/dependency-collector/external root \"flarum.core.compat['common/app']\"","webpack://@shebaoting/dependency-collector/external root \"flarum.core.compat['common/components/Button']\"","webpack://@shebaoting/dependency-collector/external root \"flarum.core.compat['common/components/ColorPreviewInput']\"","webpack://@shebaoting/dependency-collector/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@shebaoting/dependency-collector/external root \"flarum.core.compat['common/utils/Alert']\"","webpack://@shebaoting/dependency-collector/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@shebaoting/dependency-collector/external root \"flarum.core.compat['common/utils/mixin']\"","webpack://@shebaoting/dependency-collector/external root \"flarum.core.compat['common/utils/string']\"","webpack://@shebaoting/dependency-collector/external root \"flarum.core.compat['common/utils/withAttr']\"","webpack://@shebaoting/dependency-collector/webpack/bootstrap","webpack://@shebaoting/dependency-collector/webpack/runtime/compat get default export","webpack://@shebaoting/dependency-collector/webpack/runtime/define property getters","webpack://@shebaoting/dependency-collector/webpack/runtime/hasOwnProperty shorthand","webpack://@shebaoting/dependency-collector/webpack/runtime/make namespace object","webpack://@shebaoting/dependency-collector/./admin.ts"],"sourcesContent":["import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","// js/src/admin/components/DependencyCollectorSettingsPage.js\n\nimport ExtensionPage from 'flarum/admin/components/ExtensionPage';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport EditTagModal from './EditTagModal';\nimport { alert } from 'flarum/common/utils/Alert';\nimport withAttr from 'flarum/common/utils/withAttr';\n\nexport default class DependencyCollectorSettingsPage extends ExtensionPage {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.loadingTags = true;\n    this.pluginTags = [];\n    this.loadPluginTags();\n    this.editingTagId = null;\n    this.editingField = null;\n    this.editValue = '';\n    this.savingTagId = null;\n  }\n\n  content() {\n    return (\n      <div className=\"DependencyCollectorSettingsPage\">\n        <div className=\"container\">{this.pluginTagsSection()}</div>\n      </div>\n    );\n  }\n\n  pluginTagsSection() {\n    return (\n      <section className=\"PluginTagsSection\">\n        <div className=\"Page-header\">\n          <h2>{app.translator.trans('shebaoting-dependency-collector.admin.page.manage_tags_title')}</h2>\n          <Button\n            className=\"Button Button--primary\"\n            icon=\"fas fa-plus\"\n            onclick={() => app.modal.show(EditTagModal, { key: 'new-tag', onsave: this.loadPluginTags.bind(this) })}\n          >\n            {app.translator.trans('shebaoting-dependency-collector.admin.actions.create_tag')}\n          </Button>\n        </div>\n        {this.loadingTags ? (\n          <LoadingIndicator />\n        ) : this.pluginTags.length === 0 ? (\n          <p>{app.translator.trans('shebaoting-dependency-collector.admin.page.no_plugin_tags')}</p>\n        ) : (\n          <table className=\"Table PluginTagsTable\">\n            <thead>\n              <tr>\n                {/* --- 修改表头 --- */}\n                <th>{app.translator.trans('shebaoting-dependency-collector.admin.table.tag_name')}</th>\n                <th>{app.translator.trans('shebaoting-dependency-collector.admin.table.tag_slug')}</th>\n                <th>{app.translator.trans('shebaoting-dependency-collector.admin.table.tag_color')}</th> {/* 修改 */}\n                <th>{app.translator.trans('shebaoting-dependency-collector.admin.table.tag_icon')}</th> {/* 新增 */}\n                <th>{app.translator.trans('shebaoting-dependency-collector.admin.table.tag_item_count')}</th>\n                <th>{app.translator.trans('shebaoting-dependency-collector.admin.table.actions')}</th>\n                {/* --- 表头修改结束 --- */}\n              </tr>\n            </thead>\n            <tbody>\n              {this.pluginTags.map((tag) => (\n                <tr key={tag.id()} className={this.savingTagId === tag.id() ? 'saving' : ''}>\n                  {/* 名称 - 可编辑 */}\n                  <td onclick={() => this.startEditing(tag, 'name')}>\n                    {this.isEditing(tag, 'name') ? this.renderInput(tag, 'name', 'text') : tag.name()}\n                  </td>\n                  {/* Slug - 可编辑 */}\n                  <td onclick={() => this.startEditing(tag, 'slug')}>\n                    {this.isEditing(tag, 'slug') ? this.renderInput(tag, 'slug', 'text') : tag.slug()}\n                  </td>\n                  {/* --- 颜色列 --- */}\n                  <td onclick={() => this.startEditing(tag, 'color')}>\n                    {\n                      this.isEditing(tag, 'color') ? (\n                        this.renderInput(tag, 'color', 'text', '#RRGGBB') // 使用 renderInput 辅助方法\n                      ) : tag.color() ? (\n                        <span\n                          style={{\n                            backgroundColor: tag.color(),\n                            padding: '2px 5px',\n                            color: this.getTextColorForBackground(tag.color()),\n                            borderRadius: '3px',\n                            cursor: 'pointer',\n                          }}\n                        >\n                          {tag.color()}\n                        </span>\n                      ) : (\n                        <span style=\"cursor: pointer; color: #aaa;\">(none)</span>\n                      ) // 提供无颜色时的点击区域\n                    }\n                  </td>\n                  {/* --- 图标列 --- */}\n                  <td onclick={() => this.startEditing(tag, 'icon')}>\n                    {this.isEditing(tag, 'icon') ? (\n                      this.renderInput(tag, 'icon', 'text', 'fas fa-tag') // 使用 renderInput 辅助方法\n                    ) : tag.icon() ? (\n                      <i className={tag.icon()} style=\"cursor: pointer;\"></i>\n                    ) : (\n                      <span style=\"cursor: pointer; color: #aaa;\">(none)</span>\n                    )}\n                  </td>\n                  {/* --- 列拆分结束 --- */}\n                  {/* 条目数 - 不可编辑 */}\n                  <td>{tag.itemCount() !== undefined ? tag.itemCount() : 'N/A'}</td>\n                  {/* 操作 - 只保留删除 */}\n                  <td>\n                    <Button\n                      className=\"Button Button--icon Button--danger\"\n                      icon=\"fas fa-trash\"\n                      onclick={() => this.deleteTag(tag)}\n                      aria-label={app.translator.trans('shebaoting-dependency-collector.admin.actions.delete_button')}\n                    />\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </section>\n    );\n  }\n\n  // --- 新增：渲染内联输入框的辅助方法 ---\n  renderInput(tag, field, type = 'text', placeholder = '') {\n    return (\n      <input\n        className=\"FormControl FormControl--inline\"\n        type={type}\n        value={this.editValue}\n        placeholder={placeholder}\n        oninput={withAttr('value', (val) => (this.editValue = val))}\n        onblur={(e) => this.saveEdit(tag, field, e.target.value)}\n        onkeydown={(e) => this.handleKeyDown(e, tag, field, e.target.value)}\n        onupdate={(vnode) => this.focusInput(vnode)}\n      />\n    );\n  }\n\n  // isEditing 方法保持不变\n  isEditing(tag, field) {\n    return this.editingTagId === tag.id() && this.editingField === field;\n  }\n\n  // startEditing 方法保持不变\n  startEditing(tag, field) {\n    if (this.savingTagId) return;\n    this.editingTagId = tag.id();\n    this.editingField = field;\n    this.editValue = tag[field]() || '';\n    m.redraw();\n  }\n\n  // focusInput 方法保持不变\n  focusInput(vnode) {\n    if (vnode.dom && typeof vnode.dom.focus === 'function') {\n      setTimeout(() => vnode.dom.focus(), 0);\n    }\n  }\n\n  // handleKeyDown 方法保持不变\n  handleKeyDown(event, tag, field, value) {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n      this.saveEdit(tag, field, value);\n    } else if (event.key === 'Escape') {\n      this.cancelEdit();\n    }\n    event.redraw = false;\n  }\n\n  // saveEdit 方法保持不变\n  saveEdit(tag, field, value) {\n    if (this.savingTagId === tag.id()) {\n      console.log('Save already in progress for tag:', tag.id());\n      return;\n    }\n\n    if (value === (tag[field]() || '')) {\n      this.cancelEdit();\n      return;\n    }\n\n    this.savingTagId = tag.id();\n    m.redraw();\n\n    const attributesToSave = { [field]: value };\n    console.log('Data being passed to tag.save():', attributesToSave);\n\n    tag\n      .save(attributesToSave)\n      .then(() => {\n        console.log('Tag saved successfully.');\n        this.cancelEdit();\n      })\n      .catch((error) => {\n        console.error(`Error saving tag ${tag.id()} field ${field}:`, error);\n        let errorDetail = app.translator.trans('core.lib.error.generic_message');\n        if (error.response?.errors?.length > 0) {\n          const fieldError = error.response.errors.find((e) => e.source?.pointer === `/data/attributes/${field}`);\n          errorDetail = fieldError?.detail || error.response.errors[0].detail || errorDetail;\n        }\n        alert.component({ type: 'error' }, errorDetail);\n\n        this.savingTagId = null;\n        m.redraw();\n      });\n  }\n\n  // cancelEdit 方法保持不变\n  cancelEdit() {\n    this.editingTagId = null;\n    this.editingField = null;\n    this.editValue = '';\n    this.savingTagId = null;\n    m.redraw();\n  }\n\n  // loadPluginTags 方法保持不变\n  loadPluginTags() {\n    this.loadingTags = true;\n    // 确保请求包含 itemCount (如果后端支持 sort=itemCount 或 include=itemCount)\n    // 否则依赖 serializer 计算\n    app.store\n      .find('dependency-tags', { sort: 'name' })\n      .then((tags) => {\n        this.pluginTags = tags;\n        this.loadingTags = false;\n        m.redraw();\n      })\n      .catch(() => {\n        this.loadingTags = false;\n        m.redraw();\n      });\n  }\n\n  // deleteTag 方法保持不变\n  deleteTag(tag) {\n    if (this.savingTagId === tag.id()) return;\n    if (!confirm(app.translator.trans('shebaoting-dependency-collector.admin.confirm.delete_tag', { name: tag.name() }))) return;\n\n    tag\n      .delete()\n      .then(() => {\n        this.pluginTags = this.pluginTags.filter((t) => t.id() !== tag.id());\n        m.redraw();\n      })\n      .catch((e) => {\n        console.error(e);\n        alert.component({ type: 'error' }, 'Error deleting tag.');\n      });\n  }\n\n  // getTextColorForBackground 方法保持不变\n  getTextColorForBackground(hexColor) {\n    if (!hexColor) return 'white';\n    hexColor = hexColor.replace('#', '');\n    if (hexColor.length === 3) {\n      hexColor = hexColor[0].repeat(2) + hexColor[1].repeat(2) + hexColor[2].repeat(2);\n    }\n    if (hexColor.length !== 6) {\n      return 'white';\n    }\n    const r = parseInt(hexColor.substr(0, 2), 16);\n    const g = parseInt(hexColor.substr(2, 2), 16);\n    const b = parseInt(hexColor.substr(4, 2), 16);\n    const luminance = (0.299 * r + 0.587 * g + 0.114 * b) / 255;\n    return luminance > 0.5 ? '#000000' : '#FFFFFF';\n  }\n}\n","// js/src/admin/components/EditTagModal.js\n\nimport Modal from 'flarum/admin/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport Stream from 'flarum/common/utils/Stream';\nimport ColorPreviewInput from 'flarum/common/components/ColorPreviewInput';\nimport app from 'flarum/admin/app';\n\nexport default class EditTagModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.tag = this.attrs.tag || app.store.createRecord('dependency-tags');\n\n    this.name = Stream(this.tag.name() || '');\n    this.slug = Stream(this.tag.slug() || '');\n    this.description = Stream(this.tag.description() || '');\n    this.color = Stream(this.tag.color() || '#cccccc');\n    this.icon = Stream(this.tag.icon() || '');\n\n    this.alertAttrs = null;\n  }\n\n  className() {\n    return 'EditTagModal Modal--small';\n  }\n\n  title() {\n    return this.tag.exists\n      ? app.translator.trans('shebaoting-dependency-collector.admin.modal.edit_tag_title', { name: this.tag.name() })\n      : app.translator.trans('shebaoting-dependency-collector.admin.modal.create_tag_title');\n  }\n\n  content() {\n    // 策略：移除 content() 内部所有元素的 key 属性，\n    // 依赖 Mithril 对无 key 列表的处理。\n    // Modal-body 和 Form 保持无 key。\n    // 所有 Form-group 也保持无 key。\n    // 对于 app.translator.trans 返回的数组，如果其内部的 <a> 也没有 key，\n    // 那么整个子数组就是“无 key”的，这应该是允许的。\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">\n          <div className=\"Form-group\">\n            {' '}\n            {/* NO KEY */}\n            <label>{app.translator.trans('shebaoting-dependency-collector.admin.modal.tag_name_label')}</label>\n            <input className=\"FormControl\" bidi={this.name} />\n          </div>\n          <div className=\"Form-group\">\n            {' '}\n            {/* NO KEY */}\n            <label>{app.translator.trans('shebaoting-dependency-collector.admin.modal.tag_slug_label')}</label>\n            <input className=\"FormControl\" bidi={this.slug} />\n          </div>\n          <div className=\"Form-group\">\n            {' '}\n            {/* NO KEY */}\n            <label>{app.translator.trans('shebaoting-dependency-collector.admin.modal.tag_description_label')}</label>\n            <textarea className=\"FormControl\" bidi={this.description} rows=\"3\"></textarea>\n          </div>\n          <div className=\"Form-group\">\n            {' '}\n            {/* NO KEY */}\n            <label>{app.translator.trans('shebaoting-dependency-collector.admin.modal.tag_color_label')}</label>\n            <ColorPreviewInput className=\"FormControl\" bidi={this.color} />\n          </div>\n          <div className=\"Form-group\">\n            {' '}\n            {/* NO KEY */}\n            <label>{app.translator.trans('shebaoting-dependency-collector.admin.modal.tag_icon_label')}</label>\n            <input className=\"FormControl\" bidi={this.icon} placeholder=\"fas fa-code\" />\n            <small>\n              {' '}\n              {/* NO KEY on small, and no key on inner <a> */}\n              {app.translator.trans('shebaoting-dependency-collector.admin.modal.tag_icon_help', {\n                link: (\n                  <a href=\"https://fontawesome.com/icons\" tabindex=\"-1\" target=\"_blank\">\n                    Font Awesome\n                  </a>\n                ),\n              })}\n            </small>\n          </div>\n          <div className=\"Form-group\">\n            {' '}\n            {/* NO KEY */}\n            <Button type=\"submit\" className=\"Button Button--primary\" loading={this.loading} aria-label={app.translator.trans('core.lib.save_button')}>\n              {app.translator.trans('core.lib.save_button')}\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n    this.loading = true;\n    this.alertAttrs = null;\n\n    this.tag\n      .save({\n        name: this.name(),\n        slug: this.slug(),\n        description: this.description(),\n        color: this.color(),\n        icon: this.icon(),\n      })\n      .then(() => {\n        if (this.attrs.onsave) this.attrs.onsave();\n        this.hide();\n      })\n      .catch((error) => {\n        if (error.alert) {\n          this.alertAttrs = error.alert;\n        } else {\n          console.error(error);\n        }\n      })\n      .finally(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n}\n","import app from 'flarum/admin/app';\nimport DependencyCollectorSettingsPage from './components/DependencyCollectorSettingsPage'; // We will create this\nimport DependencyItem from '../common/models/DependencyItem'; // If needed in admin\nimport DependencyTag from '../common/models/DependencyTag'; // If needed in admin\n\napp.initializers.add('shebaoting-dependency-collector-admin', () => {\n  app.store.models['dependency-items'] = DependencyItem;\n  app.store.models['dependency-tags'] = DependencyTag;\n\n  // Register your extension page\n  app.extensionData\n    .for('shebaoting-dependency-collector')\n    .registerPage(DependencyCollectorSettingsPage)\n    .registerPermission(\n      {\n        icon: 'fas fa-pencil-alt', // Example icon\n        label: app.translator.trans('shebaoting-dependency-collector.admin.permissions.submit_label'),\n        permission: 'dependency-collector.submit',\n      },\n      'start' // Permission group: start, moderate, etc.\n    )\n    .registerPermission(\n      {\n        icon: 'fas fa-check-double',\n        label: app.translator.trans('shebaoting-dependency-collector.admin.permissions.moderate_label'),\n        permission: 'dependency-collector.moderate',\n        allowGuest: false, // Example: Don't allow guests\n      },\n      'moderate'\n    )\n    .registerPermission(\n      {\n        icon: 'fas fa-tags',\n        label: app.translator.trans('shebaoting-dependency-collector.admin.permissions.manage_tags_label'),\n        permission: 'dependency-collector.manageTags',\n      },\n      'moderate' // Or a new group like 'manage'\n    )\n    .registerPermission(\n      {\n        icon: 'fas fa-star', // 收藏图标\n        label: app.translator.trans('shebaoting-dependency-collector.admin.permissions.favorite_items_label'), // 需要添加翻译\n        permission: 'dependency-collector.favoriteItems',\n      },\n      'general' // 或其他合适的权限组\n    );\n});\n","import app from 'flarum/common/app';\n\napp.initializers.add('shebaoting/dependency-collector', () => {\n  console.log('[shebaoting/dependency-collector] Hello, forum and admin!');\n});\n","// js/src/common/models/DependencyItem.js\nimport Model from 'flarum/common/Model';\nimport mixin from 'flarum/common/utils/mixin';\nimport { getPlainContent } from 'flarum/common/utils/string';\n\nexport default class DependencyItem extends Model {\n  title = Model.attribute('title');\n  link = Model.attribute('link');\n  description = Model.attribute('description');\n  status = Model.attribute('status'); // 确保 status 属性存在\n  submittedAt = Model.attribute('submittedAt', Model.transformDate);\n  approvedAt = Model.attribute('approvedAt', Model.transformDate);\n\n  user = Model.hasOne('user');\n  approver = Model.hasOne('approver');\n  tags = Model.hasMany('tags');\n\n  canEdit = Model.attribute('canEdit'); // 确保 canEdit 属性存在\n  canApprove = Model.attribute('canApprove'); // 确保 canApprove 属性存在\n  canDelete = Model.attribute('canDelete'); // 确保存储从后端接收的 canDelete 权限\n  isFavorited = Model.attribute('isFavorited');\n  canFavorite = Model.attribute('canFavorite');\n  shortDescription(length = 100) {\n    const desc = this.description();\n    if (!desc) return '';\n    return getPlainContent(desc).substring(0, length) + (desc.length > length ? '...' : '');\n  }\n}\n","import Model from 'flarum/common/Model';\n\nexport default class DependencyTag extends Model {\n  name = Model.attribute('name');\n  slug = Model.attribute('slug');\n  description = Model.attribute('description');\n  color = Model.attribute('color');\n  icon = Model.attribute('icon');\n  createdAt = Model.attribute('createdAt', Model.transformDate);\n  updatedAt = Model.attribute('updatedAt', Model.transformDate);\n  itemCount = Model.attribute('itemCount');\n\n  canEdit = Model.attribute('canEdit');\n}\n","module.exports = flarum.core.compat['admin/app'];","module.exports = flarum.core.compat['admin/components/ExtensionPage'];","module.exports = flarum.core.compat['admin/components/Modal'];","module.exports = flarum.core.compat['common/Model'];","module.exports = flarum.core.compat['common/app'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/ColorPreviewInput'];","module.exports = flarum.core.compat['common/components/LoadingIndicator'];","module.exports = flarum.core.compat['common/utils/Alert'];","module.exports = flarum.core.compat['common/utils/Stream'];","module.exports = flarum.core.compat['common/utils/mixin'];","module.exports = flarum.core.compat['common/utils/string'];","module.exports = flarum.core.compat['common/utils/withAttr'];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export * from './src/common';\nexport * from './src/admin';\n"],"names":["setPrototypeOf","_inheritsLoose","t","o","prototype","Object","create","constructor","default","_setPrototypeOf","e","bind","__proto__","ExtensionPage","Button","LoadingIndicator","EditTagModal","alert","withAttr","DependencyCollectorSettingsPage","_ExtensionPage","apply","arguments","_proto","oninit","vnode","call","loadingTags","pluginTags","loadPluginTags","editingTagId","editingField","editValue","savingTagId","content","m","className","pluginTagsSection","_this","app","translator","trans","icon","onclick","modal","show","key","onsave","length","map","tag","id","startEditing","isEditing","renderInput","name","slug","color","style","backgroundColor","padding","getTextColorForBackground","borderRadius","cursor","itemCount","undefined","deleteTag","field","type","placeholder","_this2","value","oninput","val","onblur","saveEdit","target","onkeydown","handleKeyDown","onupdate","focusInput","redraw","dom","focus","setTimeout","event","preventDefault","cancelEdit","_attributesToSave","_this3","console","log","attributesToSave","save","then","error","_error$response","errorDetail","response","errors","fieldError","find","_e$source","source","pointer","detail","component","_this4","store","sort","tags","_this5","confirm","filter","hexColor","replace","repeat","r","parseInt","substr","g","b","luminance","Modal","Stream","ColorPreviewInput","_Modal","attrs","createRecord","description","alertAttrs","title","exists","bidi","rows","link","href","tabindex","loading","onsubmit","hide","DependencyItem","DependencyTag","initializers","add","models","extensionData","registerPage","registerPermission","label","permission","allowGuest","Model","mixin","getPlainContent","_Model","_len","args","Array","_key","concat","attribute","status","submittedAt","transformDate","approvedAt","user","hasOne","approver","hasMany","canEdit","canApprove","canDelete","isFavorited","canFavorite","shortDescription","desc","substring","createdAt","updatedAt"],"sourceRoot":""}